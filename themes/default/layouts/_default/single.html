{{ define "main" }}
<section class="single">
  <div class="container">
    <div class="lead column is-10 is-offset-1">
      <h1 class="title">{{ .Title }}</h1>
      <article>
        {{ if .Params.page }}
          {{ partial .Params.page . }}
        {{ else }}
          <!-- Render content normally -->
        {{ end }}

        {{ .Content }}

        {{ if .Params.source }}
          <div class="source-code content">
            <h2 class="title">Source code</h2>
            <!-- CODE EXAMPLE ———————————————————————————————————————— -->
            <pre class="code-example"><code class="code-example-body language-js">
                {{- readFile .Params.source -}}
            </code></pre>
          </div>
        {{ end }}
      </article>
    </div>
  </div>
</section>
{{ end }}
